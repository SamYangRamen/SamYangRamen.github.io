# CRUD

CREATE READ UPDATE DELETE의 약자.

DB의 종류를 막론하고 반드시 가지고 있는 4가지 기능



## TABLE CRUD



### 1. CREATE

```mysql
CREATE TABLE `BASIC_DATA` (
	`거래처명` VARCHAR(50),
	`품명` VARCHAR(50),
	`상품분류` VARCHAR(50),
	`수량` INT(8),
	`단가` INT(8)
) COLLATE='utf8mb3_general_ci'
;
```

------



### 2. READ

```mysql
DESC `BASIC_DATA`;
```

| Field    | Type        | Null | Key  | Default | Extra |
| -------- | ----------- | ---- | ---- | ------- | ----- |
| 거래처명 | varchar(50) | YES  |      | \N      |       |
| 품명     | varchar(50) | YES  |      | \N      |       |
| 상품분류 | varchar(50) | YES  |      | \N      |       |
| 수량     | int(8)      | YES  |      | \N      |       |
| 단가     | int(8)      | YES  |      | \N      |       |

------



### 3. UPDATE

#### 테이블에 새로운 컬럼 추가

```mysql
ALTER TABLE [테이블명] ADD COLUMN [추가할 컬럼명][추가할 컬럼 데이터형];
```

#### 테이블 컬럼 타입 변경

```mysql
ALTER TABLE [테이블명] MODIFY COLUMN [변경할 컬럼명][변경할 컬럼 타입];
```

#### 테이블 컬럼 이름 변경

```mysql
ALTER TABLE [테이블명] CHANGE COLUMN [기존 컬럼 명][변경할 컬럼 명][변경할 컬럼 타입];
```

#### 테이블 컬럼 삭제

```mysql
ALTER TABLE [테이블명] DROP COLUMN [삭제할 컬럼 명];
```

------



### 4. DELETE

```mysql
DROP TABLE IF EXISTS `BASIC_DATA`;
```

------





## DATA CRUD



### 1. CREATE (INSERT)

```mysql
INSERT INTO `BASIC_DATA`
VALUES
	('가양 아트박스', '합지 스프링노트', '노트', 20, 2500),
	('가양 아트박스', 'A4용지', '복사용지', 30, 20000),
	('가양 아트박스', '모나미 볼펜', '필기구', 250, 100),
	('가양 아트박스', '네임펜 흑색', '기타', 10, 6000),
	('나나문구 대치점', '스테플러침', '기타', 50, 950),
	('나나문구 대치점', '네임펜 흑색', '필기구', 10, 6000),
	('나나문구 대치점', '보드마카 청색', '필기구', 15, 4300),
	('나나문구 서현점', '데스크 오거나이저', '기타', 5, 15000),
	('나나문구 서현점', 'A4용지', '복사용지', 30, 20000),
	('나나문구 서현점', '모나미 볼펜', '필기구', 250, 100)
;
```

------



### 2. READ (SELECT)

```mysql
SELECT * FROM `BASIC_DATA`;
```

| 거래처명        | 품명              | 상품분류 | 수량 |  단가 |
| --------------- | ----------------- | -------- | ---: | ----: |
| 가양 아트박스   | 합지 스프링노트   | 노트     |   20 |  2500 |
| 가양 아트박스   | A4용지            | 복사용지 |   30 | 20000 |
| 가양 아트박스   | 모나미 볼펜       | 필기구   |  250 |   100 |
| 가양 아트박스   | 네임펜 흑색       | 기타     |   10 |  6000 |
| 나나문구 대치점 | 스테플러침        | 기타     |   50 |   950 |
| 나나문구 대치점 | 네임펜 흑색       | 필기구   |   10 |  6000 |
| 나나문구 대치점 | 보드마카 청색     | 필기구   |   15 |  4300 |
| 나나문구 서현점 | 데스크 오거나이저 | 기타     |    5 | 15000 |
| 나나문구 서현점 | A4용지            | 복사용지 |   30 | 20000 |
| 나나문구 서현점 | 모나미 볼펜       | 필기구   |  250 |   100 |

------

```mysql
SELECT DISTINCT 거래처명 AS 매장명 FROM `BASIC_DATA`;
```

| 매장명          |
| --------------- |
| 가양 아트박스   |
| 나나문구 대치점 |
| 나나문구 서현점 |

※ DINTINCT : 구성요소를 UNIQUE하게 가져옴

------

```mysql
SELECT DISTINCT 거래처명, 품명, 단가
FROM `BASIC_DATA`
WHERE 수량<30;
```

| 거래처명        | 품명              |  단가 |
| --------------- | ----------------- | ----: |
| 가양 아트박스   | 합지 스프링노트   |  2500 |
| 가양 아트박스   | 네임펜 흑색       |  6000 |
| 나나문구 대치점 | 네임펜 흑색       |  6000 |
| 나나문구 대치점 | 보드마카 청색     |  4300 |
| 나나문구 서현점 | 데스크 오거나이저 | 15000 |

------

```mysql
SELECT 거래처명, 품명, 단가
FROM `BASIC_DATA`
WHERE 단가 BETWEEN 1000 AND 10000 ORDER BY 3 DESC;
```

| 거래처명        | 품명            | 단가 |
| --------------- | --------------- | ---: |
| 가양 아트박스   | 네임펜 흑색     | 6000 |
| 나나문구 대치점 | 네임펜 흑색     | 6000 |
| 나나문구 대치점 | 보드마카 청색   | 4300 |
| 가양 아트박스   | 합지 스프링노트 | 2500 |

------

#### 조건에 맞는 데이터 검색하기

- 비교 연산자 (=, >, >=, <, <=, <>, !=)
  `SELECT * FROM 테이블명 WHERE 필드명 = '값';`
- 논리 연산자 (AND OR)
  `SELECT * FROM 테이블명 WHERE (필드명='값') OR ( 필드명 ='값');`
- LIKE (와일드카드 %, _와 함께 사용)
  `SELECT * FROM 테이블명 WHERE 필드명 LIKE '홍%'` 홍으로 시작하는 모든 값
  `SELECT * FROM 테이블명 WHERE 필드명 LIKE '%홍%'` 홍이 들어간 모든 값
  `SELECT * FROM 테이블명 WHERE 필드명 LIKE '홍__'` 홍으로 시작되고 뒤에 2글자 붙은 모든 값
  `SELECT * FROM 테이블명 WHERE 필드명 NOT LIKE '홍%'` 홍으로 시작하지 않는 모든 값
- IN, BETWEEN
  `SELECT * FROM 테이블명 WHERE 필드명 IN (‘London’,‘Seoul’);`
  `SELECT * FROM 테이블명 WHERE 필드명 BETWEEN 3 AND 10;`
- IS NULL
  `SELECT * FROM 테이블명 WHERE 필드명 IS NULL;` 비어있는 값 가져오기
  `SELECT * FROM 테이블명 WHERE 필드명 IS NOT NULL;` 비어있지 않은 값 가져오기

------

#### 데이터 순서 정렬하기

- 데이터 정렬해서 읽기(DESC는 내림차순 ASC는 오름차순)
  `SELECT * FROM 테이블명 ORDER BY 정렬할기준컬럼명 DESC;`
  `SELECT * FROM 테이블명 ORDER BY 정렬할기준컬럼의순서 DESC;`
- 결과 중 일부 데이터만 가져오기
  `SELECT * FROM 필드명 LIMIT 10;` 처음 10개만 가져오기
  `SELECT * FROM 필드명 LIMIT 100, 10;` 100번째부터 10개만 가져오기

------



### 3. UPDATE

```mysql
UPDATE `BASIC_DATA`
SET 거래처명='폐점', 상품분류='판매중단'
WHERE 거래처명='나나문구 대치점' AND 상품분류='필기구';
```

| 거래처명        | 품명              | 상품분류 | 수량 |  단가 |
| --------------- | ----------------- | -------- | ---: | ----: |
| 가양 아트박스   | 합지 스프링노트   | 노트     |   20 |  2500 |
| 가양 아트박스   | A4용지            | 복사용지 |   30 | 20000 |
| 가양 아트박스   | 모나미 볼펜       | 필기구   |  250 |   100 |
| 가양 아트박스   | 네임펜 흑색       | 기타     |   10 |  6000 |
| 나나문구 대치점 | 스테플러침        | 기타     |   50 |   950 |
| 폐점            | 네임펜 흑색       | 판매중단 |   10 |  6000 |
| 폐점            | 보드마카 청색     | 판매중단 |   15 |  4300 |
| 나나문구 서현점 | 데스크 오거나이저 | 기타     |    5 | 15000 |
| 나나문구 서현점 | A4용지            | 복사용지 |   30 | 20000 |
| 나나문구 서현점 | 모나미 볼펜       | 필기구   |  250 |   100 |

### 4. DELETE

```mysql
DELETE FROM `BASIC_DATA`
WHERE 품명='네임펜 흑색' OR 품명='보드마카 청색';
```

| 거래처명        | 품명              | 상품분류 | 수량 |  단가 |
| --------------- | ----------------- | -------- | ---: | ----: |
| 가양 아트박스   | 합지 스프링노트   | 노트     |   20 |  2500 |
| 가양 아트박스   | A4용지            | 복사용지 |   30 | 20000 |
| 가양 아트박스   | 모나미 볼펜       | 필기구   |  250 |   100 |
| 나나문구 대치점 | 스테플러침        | 기타     |   50 |   950 |
| 나나문구 서현점 | 데스크 오거나이저 | 기타     |    5 | 15000 |
| 나나문구 서현점 | A4용지            | 복사용지 |   30 | 20000 |
| 나나문구 서현점 | 모나미 볼펜       | 필기구   |  250 |   100 |
